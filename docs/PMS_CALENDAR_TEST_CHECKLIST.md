# PMS 캘린더 페이지 - E2E 테스트 체크리스트

## 테스트 URL
`http://127.0.0.1:2100/pms/calendar`

## 📋 기능 목록 및 테스트 체크리스트

### 1. 페이지 로딩 및 초기화
- [ ] 캘린더 페이지 접속 시 정상 렌더링
- [ ] 기본 뷰 모드: 월별(month)
- [ ] 현재 날짜 기준으로 캘린더 표시
- [ ] 요일 헤더 표시 (일~토)

### 2. 뷰 모드 전환
- [ ] "주별" 버튼 클릭 → 주별 뷰 전환
- [ ] "월별" 버튼 클릭 → 월별 뷰 전환
- [ ] 뷰 모드 변경 시 데이터 리로드

### 3. 기간 네비게이션
- [ ] 이전 버튼(◀) 클릭 → 이전 월/주로 이동
- [ ] 다음 버튼(▶) 클릭 → 다음 월/주로 이동
- [ ] "오늘" 버튼 클릭 → 현재 날짜로 이동
- [ ] 상단에 현재 연월 표시

### 4. 필터 기능
- [ ] "필터" 버튼 클릭 → 필터 패널 토글
- [ ] 우선순위 필터 선택 (urgent, high, medium, low)
- [ ] 상태 필터 선택 (pending, in_progress, completed)
- [ ] "필터 초기화" 버튼 → 모든 필터 해제
- [ ] 필터 적용 시 캘린더 데이터 재조회

### 5. 캘린더 그리드 표시
- [ ] 날짜별 셀 표시
- [ ] 현재 월이 아닌 날짜는 회색 배경
- [ ] 오늘 날짜는 파란색 테두리 강조
- [ ] 날짜별 티켓 개수 표시 (우상단 배지)
- [ ] 날짜 클릭 → selectedDate 업데이트

### 6. 티켓 표시
- [ ] 날짜별 티켓 최대 3개 표시
- [ ] 3개 초과 시 "+N개 더" 텍스트 표시
- [ ] 티켓 우선순위별 색상 구분
  - [ ] urgent: 빨강 (red-100, red-600 border)
  - [ ] high: 주황 (orange-100, orange-500 border)
  - [ ] medium: 파랑 (blue-100, blue-500 border)
  - [ ] low: 회색 (gray-100, gray-500 border)
- [ ] 티켓 상태별 아이콘 표시
  - [ ] completed: 체크 아이콘
  - [ ] in_progress: 파란색 펄스 점
  - [ ] pending: 회색 점
- [ ] 티켓 제목 말줄임(...) 처리
- [ ] 예상 소요시간(Xh) 표시
- [ ] 티켓 hover 시 전체 정보 툴팁 표시

### 7. 티켓 생성 모달
- [ ] "일정 추가" 버튼 클릭 → 모달 열림
- [ ] 날짜 셀 더블클릭 → 해당 날짜로 모달 열림
- [ ] 모달 내 폼 필드 확인
  - [ ] 제목 입력란 (required, min:3)
  - [ ] 상세 설명 textarea (required, min:10)
  - [ ] 완료 요청일 date picker (required)
  - [ ] 예상 소요시간 number input (required, 1-100)
  - [ ] 우선순위 select (low/medium/high/urgent)
- [ ] "취소" 버튼 → 모달 닫힘, 폼 초기화
- [ ] "생성" 버튼 → 티켓 생성 시도

### 8. 티켓 생성 유효성 검사
- [ ] 제목 미입력 → 에러 메시지: "제목을 입력해주세요."
- [ ] 제목 3자 미만 → 에러: "제목은 3자 이상이어야 합니다."
- [ ] 설명 미입력 → 에러: "설명을 입력해주세요."
- [ ] 설명 10자 미만 → 에러: "설명은 10자 이상이어야 합니다."
- [ ] 날짜 미선택 → 에러: "날짜를 선택해주세요."
- [ ] 소요시간 미입력 → 에러: "예상 소요시간을 입력해주세요."
- [ ] 소요시간 1 미만 → 에러: "최소 1시간 이상이어야 합니다."
- [ ] 소요시간 100 초과 → 에러: "최대 100시간까지 가능합니다."

### 9. 티켓 생성 성공
- [ ] 유효한 데이터 입력 후 "생성" 클릭
- [ ] DB에 plobin_analysis_requests 레코드 생성 확인
- [ ] 성공 메시지 표시: "분석 요청이 성공적으로 생성되었습니다."
- [ ] 모달 자동 닫힘
- [ ] 캘린더 데이터 자동 리로드
- [ ] 생성된 티켓이 캘린더에 표시

### 10. 플래시 메시지
- [ ] 성공 메시지 표시 (초록색 배경)
- [ ] 3초 후 자동 사라짐
- [ ] 체크 아이콘 표시

### 11. 데이터베이스 연동
- [ ] 티켓 조회 시 plobin_analysis_requests 테이블 쿼리
- [ ] requester_id, assignee_id → plobin_users 조인
- [ ] required_by 날짜 기준으로 캘린더에 표시
- [ ] cancelled_at이 NULL인 요청만 조회
- [ ] 날짜 범위 필터링 (start_date ~ end_date)

### 12. UI/UX 인터랙션
- [ ] 날짜 셀 hover 시 스케일 효과
- [ ] 날짜 셀 hover 시 "더블클릭하여 일정 추가" 힌트 표시
- [ ] 버튼 hover 시 색상 변경
- [ ] 티켓 hover 시 스케일 효과
- [ ] 오늘 날짜 셀에 펄스 애니메이션 점
- [ ] 로딩 중 애니메이션 (필요 시)

### 13. 범례 및 도움말
- [ ] 하단 범례 섹션 표시
- [ ] 우선순위별 색상 설명
- [ ] 사용법 안내 텍스트

## 🧪 테스트 시나리오

### 시나리오 1: 기본 캘린더 조회
1. 페이지 접속
2. 월별 뷰 확인
3. 현재 월 캘린더 렌더링 확인
4. 기존 티켓 표시 확인

### 시나리오 2: 티켓 생성 (성공)
1. "일정 추가" 버튼 클릭
2. 제목 입력: "테스트 분석 요청"
3. 설명 입력: "E2E 테스트를 위한 샘플 분석 요청입니다."
4. 날짜 선택: 다음 주 월요일
5. 소요시간 입력: 5
6. 우선순위 선택: high
7. "생성" 버튼 클릭
8. 성공 메시지 확인
9. 캘린더에 새 티켓 표시 확인

### 시나리오 3: 티켓 생성 (유효성 검사 실패)
1. "일정 추가" 버튼 클릭
2. 제목만 "ab" (2자) 입력
3. "생성" 버튼 클릭
4. 에러 메시지 확인
5. 모달이 열린 상태로 유지 확인

### 시나리오 4: 필터링
1. "필터" 버튼 클릭
2. 우선순위 "high" 선택
3. high 티켓만 표시 확인
4. 상태 "completed" 추가 선택
5. high + completed 티켓만 표시 확인
6. "필터 초기화" 클릭
7. 전체 티켓 표시 확인

### 시나리오 5: 네비게이션
1. "다음" 버튼 클릭 → 다음 달 이동
2. "이전" 버튼 클릭 → 현재 달로 복귀
3. "오늘" 버튼 클릭 → 오늘 날짜 강조 확인

### 시나리오 6: 뷰 모드 전환
1. "주별" 버튼 클릭
2. 7일 캘린더 표시 확인
3. "월별" 버튼 클릭
4. 월 캘린더로 복귀 확인

## 🐛 알려진 이슈 및 주의사항

### 현재 구현된 기능
- ✅ 티켓 조회 및 표시
- ✅ 티켓 생성
- ✅ 필터링 (우선순위, 상태)
- ✅ 뷰 모드 전환 (월별/주별)
- ✅ 기간 네비게이션

### 미구현 또는 제한사항
- ❌ 티켓 상세 보기 모달 (클릭 시)
- ❌ 티켓 수정/삭제 기능
- ❌ 담당자 할당 기능
- ❌ 드래그 앤 드롭으로 날짜 변경
- ❌ 파일 첨부 기능
- ⚠️ 인증: 현재 requester_id가 하드코딩 (auth()->id() ?? 1)

### 테스트 전 준비사항
1. DB 마이그레이션 실행 확인
2. plobin_users 테이블에 최소 1개 레코드 존재
3. Seeder 실행하여 샘플 데이터 생성 (선택)
4. 서버 실행 중 확인 (php artisan serve)

---

**작성일**: 2025-10-10
**테스트 담당**: E2E 테스트 수행자
**목적**: PMS 캘린더 기능 검증 및 테스트 코드 작성 기준
